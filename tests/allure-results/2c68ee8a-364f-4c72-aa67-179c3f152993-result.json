{"name": "Проверка поиска животных по статусу", "status": "broken", "statusDetails": {"message": "AttributeError: 'NoneType' object has no attribute 'info'", "trace": "self = <tests.test_pet_api.TestPetApi object at 0x106037dc0>\nstatus = 'available', logger_test = None\n\n    @allure.title('Проверка поиска животных по статусу')\n    @pytest.mark.parametrize('status', ['pending', 'available', 'sold'])\n    def test_get_pets_by_status(self, status, logger_test):\n        pet_api = PetApi()\n        params = {\"status\": status}\n>       response = pet_api.get_pet_find_by_status(params=params)\n\nlogger_test = None\nparams     = {'status': 'available'}\npet_api    = <api_testing.pet_api.PetApi object at 0x1060f7e20>\nself       = <tests.test_pet_api.TestPetApi object at 0x106037dc0>\nstatus     = 'available'\n\ntest_pet_api.py:22: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n../api_testing/pet_api.py:9: in get_pet_find_by_status\n    return self.get('pet/findByStatus', params=params,\n        expected_error = False\n        params     = {'status': 'available'}\n        self       = <api_testing.pet_api.PetApi object at 0x1060f7e20>\n../api_testing/base_request.py:50: in get\n    response = self._request(url, 'GET', params=params, expected_error=expected_error)\n        endpoint   = 'pet/findByStatus'\n        expected_error = False\n        params     = {'status': 'available'}\n        self       = <api_testing.pet_api.PetApi object at 0x1060f7e20>\n        url        = 'https://petstore.swagger.io/v2/pet/findByStatus'\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <api_testing.pet_api.PetApi object at 0x1060f7e20>\nurl = 'https://petstore.swagger.io/v2/pet/findByStatus', request_type = 'GET'\npayload = None, params = {'status': 'available'}, is_json = False\nexpected_error = False\n\n    def _request(self, url, request_type,\n                 payload=None, params=None, is_json=False, expected_error=False):\n        pprint.pprint(f'Request to: {url}')\n        stop_flag = False\n        while not stop_flag:\n            if request_type == 'GET':\n                response = requests.get(url, params=params)\n            elif request_type == 'POST':\n                if is_json:\n                    response = requests.post(url, json=payload)\n                else:\n                    response = requests.post(url, data=payload)\n            elif request_type == 'PUT':\n                if is_json:\n                    response = requests.post(url, json=payload)\n                else:\n                    response = requests.post(url, data=payload)\n            else:\n                response = requests.delete(url)\n    \n            if not expected_error and response.status_code == 200:\n                stop_flag = True\n            elif expected_error:\n                stop_flag = True\n>       self.logger.info(f'Method: {response.request.method}')\nE       AttributeError: 'NoneType' object has no attribute 'info'\n\nexpected_error = False\nis_json    = False\nparams     = {'status': 'available'}\npayload    = None\nrequest_type = 'GET'\nresponse   = <Response [200]>\nself       = <api_testing.pet_api.PetApi object at 0x1060f7e20>\nstop_flag  = True\nurl        = 'https://petstore.swagger.io/v2/pet/findByStatus'\n\n../api_testing/base_request.py:40: AttributeError"}, "steps": [{"name": "Выполнить запрос GET https://petstore.swagger.io/v2/pet/findByStatus, headers={'Content-Type': 'text', 'accept_header': 'json'}, params={'status': 'available'}", "status": "broken", "statusDetails": {"message": "AttributeError: 'NoneType' object has no attribute 'info'\n", "trace": "  File \"/Users/annapogrebnik/PycharmProjects/pythonProject1/otus_test_project/api_testing/base_request.py\", line 50, in get\n    response = self._request(url, 'GET', params=params, expected_error=expected_error)\n  File \"/Users/annapogrebnik/PycharmProjects/pythonProject1/otus_test_project/api_testing/base_request.py\", line 40, in _request\n    self.logger.info(f'Method: {response.request.method}')\n"}, "start": 1714327105779, "stop": 1714327106749}], "parameters": [{"name": "status", "value": "'available'"}], "start": 1714327105779, "stop": 1714327106750, "uuid": "c5dbda59-4230-448e-bd71-7916b2a0101d", "historyId": "c7081db9e7e2d3157c12df854c828ed7", "testCaseId": "57c4504008d4ce8de2db394754b3eb18", "fullName": "tests.test_pet_api.TestPetApi#test_get_pets_by_status", "labels": [{"name": "parentSuite", "value": "tests"}, {"name": "suite", "value": "test_pet_api"}, {"name": "subSuite", "value": "TestPetApi"}, {"name": "host", "value": "d45763e349a4"}, {"name": "thread", "value": "97685-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "tests.test_pet_api"}]}